module Main {

fn foo(s: &String) -> &String {
    assert(s.eq("foo"));
    assert(s.eq("notfoo").not());
    s
}

fn main() {
    let s = "foo";
    let ref : &String = &&&&&&s;
    let ref2 = &ref;
    foo(s);
    foo(&s);
    let same = foo(&&&&s);
    assert(s.eq(same));
}

}